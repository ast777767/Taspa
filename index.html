<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Qyzgylt Taspa</title>
<meta name="color-scheme" content="light dark"/>
<style>
/* ========= –†–û–ó–û–í–ê–Ø –¢–ï–ú–ê ========= */
:root{
  --bg:#fff5f9; --bg2:#ffeaf1; --glass:#ffffffcc; --card:#fff7fb;
  --text:#2a1a22; --muted:#815365;
  --brand:#ff4f93; --brand-2:#ff91c2;
  --ok:#28b487; --warn:#f6b555; --bad:#ff5d5d;
  --stroke:#ffd3e4; --shadow:0 16px 50px rgba(255,79,147,.18);
}
@media (prefers-color-scheme: dark){
  :root{ --bg:#1a1015; --bg2:#23131b; --glass:#24171dcc; --card:#2a1921;
    --text:#ffeef6; --muted:#e2b8c9; --stroke:#5a2c3d; --shadow:0 18px 50px rgba(0,0,0,.35);}
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial;
  color:var(--text);
  background:
    radial-gradient(1200px 600px at 80% -20%, #ff91c245 0%, transparent 60%),
    radial-gradient(900px 600px at -10% 120%, #ff4f9340 0%, transparent 55%),
    linear-gradient(180deg,var(--bg),var(--bg2));
}
.wrap{max-width:1180px;margin:0 auto;padding:22px}

/* ========= –®–ê–ü–ö–ê ========= */
header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
.brand{display:flex;gap:12px;align-items:center}
.logo{width:44px;height:44px;border-radius:12px;
  background:conic-gradient(from 210deg,#ffb2d2,#ff4f93 40%,#ff91c2 75%,#ffa8d7 100%);
  position:relative;box-shadow:0 10px 20px #ff4f9350, inset 0 0 40px #ffffff22}
h1{margin:0;font-size:22px}
.badge{padding:7px 12px;border-radius:999px;background:linear-gradient(135deg,var(--brand),#ff73ad);color:#fff;font-weight:700;box-shadow:0 8px 20px #ff4f9370}

/* ========= HERO ========= */
.hero{margin-top:18px;border-radius:22px;padding:22px;border:1px solid var(--stroke);
  background:var(--glass);backdrop-filter:blur(8px);box-shadow:var(--shadow)}
.hero-grid{display:grid;grid-template-columns:1.1fr .9fr;gap:18px}
@media(max-width:920px){.hero-grid{grid-template-columns:1fr}}
.hero h2{margin:0 0 6px;font-size:30px}
.hero p{margin:8px 0 16px}
.stats{display:flex;gap:10px;flex-wrap:wrap}
.stat{padding:10px 14px;border-radius:14px;border:1px dashed var(--stroke);background:var(--card)}
.illus{border:1px solid var(--stroke);border-radius:18px;background:var(--card);display:grid;place-items:center;min-height:220px}
.ribbon{width:140px;height:140px;border:12px solid var(--brand);border-radius:80% 30% 70% 40%/55% 45% 65% 35%;
  transform:rotate(25deg);filter:drop-shadow(0 12px 26px #ff4f9377);animation:float 6s ease-in-out infinite}
@keyframes float{0%{transform:translateY(0) rotate(25deg)}50%{transform:translateY(-10px) rotate(20deg)}100%{transform:translateY(0) rotate(25deg)}}

/* ========= –¢–ê–ë–´ ========= */
nav.tabs{display:flex;gap:10px;flex-wrap:wrap;margin:16px 0 0}
.tab{padding:10px 14px;border-radius:12px;border:1px solid var(--stroke);background:var(--card);cursor:pointer;font-weight:700}
.tab.active{box-shadow:0 0 0 2px #ffffff30 inset, 0 8px 20px #ff4f9340; background:linear-gradient(135deg,#fff,#ffe3ee)}

/* ========= –ü–ê–ù–ï–õ–ò/–ö–ê–†–¢–û–ß–ö–ò ========= */
.panel{margin-top:12px;border:1px solid var(--stroke);border-radius:18px;padding:18px;background:var(--glass);backdrop-filter:blur(8px);box-shadow:var(--shadow)}
.card{border:1px solid var(--stroke);border-radius:16px;padding:14px;background:var(--card)}
.muted{color:var(--muted)}
.btn{display:inline-flex;gap:10px;align-items:center;border:0;padding:12px 16px;border-radius:12px;font-weight:700;cursor:pointer}
.btn.primary{background:linear-gradient(135deg,var(--brand),#ff73ad);color:#fff;box-shadow:0 12px 30px #ff4f9360}
.btn.secondary{background:#fff;color:var(--brand);border:1px solid var(--brand)}
.btn.ghost{background:transparent;border:1px dashed var(--stroke);color:var(--text)}
input,select,textarea{width:100%;padding:11px 12px;border-radius:12px;border:1px solid var(--stroke);background:transparent;color:var(--text)}
label{font-weight:700;font-size:14px}
.row{display:grid;grid-template-columns:1fr auto;gap:10px;align-items:center}
.row+.row{margin-top:10px}
.progress{height:12px;background:#ffd6e7;border:1px solid var(--stroke);border-radius:999px;overflow:hidden}
.progress>span{display:block;height:100%;width:0%;background:linear-gradient(90deg,#ff91c2,#ff4f93);transition:width .3s ease}

/* ========= –†–ò–°–ö-–ò–ù–î–ò–ö–ê–¢–û–† ========= */
.gauge{--deg:0;width:230px;height:230px;border-radius:50%;
  background:conic-gradient(var(--bad) var(--deg), #ffe0eb 0 360deg);
  position:relative;display:grid;place-items:center;border:1px solid var(--stroke);box-shadow:var(--shadow)}
.gauge::after{content:"";position:absolute;inset:14px;border-radius:50%;background:linear-gradient(180deg,var(--card),transparent);border:1px solid var(--stroke)}
.gauge-value{position:relative;font-size:34px;font-weight:800}
.badge-chip{display:inline-flex;gap:8px;align-items:center;padding:6px 10px;border-radius:999px;border:1px solid var(--stroke);background:var(--card)}

/* ========= –ú–ò–§–´ ========= */
.myths{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
@media(max-width:1000px){.myths{grid-template-columns:1fr 1fr}}
@media(max-width:640px){.myths{grid-template-columns:1fr}}
.flip{perspective:1000px}
.flip-inner{position:relative;transform-style:preserve-3d;transition:transform .6s}
.flip:hover .flip-inner{transform:rotateY(180deg)}
.flip-face{position:relative;border:1px solid var(--stroke);border-radius:16px;padding:14px;background:var(--card);min-height:140px;display:flex;align-items:center}
.back{position:absolute;inset:0;transform:rotateY(180deg);backface-visibility:hidden}
.front{backface-visibility:hidden}

/* ========= –û–ë–£–ß–ï–ù–ò–ï: —Ñ–∏–∫—Å—ã —Ç–µ–∫—Å—Ç–∞ –∏ –º–æ–±–∏–ª–∫–∏ ========= */
.edu-wrap{display:grid;grid-template-columns:minmax(0,1fr) minmax(0,1fr);gap:16px}
#edu .card{min-width:0}
.li{display:grid;grid-template-columns:22px 1fr;gap:10px;align-items:start}
.li input{width:18px;height:18px}
.li span{min-width:0;overflow-wrap:anywhere;word-break:break-word}
#edu h4{margin:10px 0 6px}
#edu ul,#edu ol{padding-left:20px;margin:6px 0}
@media(max-width:900px){.edu-wrap{grid-template-columns:1fr}}
@media(max-width:600px){
  .wrap{padding:14px}
  .panel{padding:14px}
  .hero-grid{grid-template-columns:1fr}
}
</style>
</head>
<body>
<canvas id="confetti" style="position:fixed;inset:0;pointer-events:none"></canvas>
<div class="wrap">
  <header>
    <div class="brand">
      <div class="logo"></div>
      <h1>Qyzgylt Taspa</h1>
      <span class="badge">–†–æ–∑–æ–≤–∞—è –ª–µ–Ω—Ç–∞</span>
    </div>
  </header>

  <section class="hero">
    <div class="hero-grid">
      <div>
        <h2>–ó–Ω–∞–Ω–∏–µ ‚Ä¢ –°–∫—Ä–∏–Ω–∏–Ω–≥ ‚Ä¢ –ó–∞–±–æ—Ç–∞ –æ —Å–µ–±–µ</h2>
        <p class="muted">–ö–æ—Ä–æ—Ç–∫–∏–µ —É—Ä–æ–∫–∏, —ç–∫—Å–ø—Ä–µ—Å—Å-—Å–∫—Ä–∏–Ω–∏–Ω–≥, –ø–ª–∞–Ω–µ—Ä. –í—Å—ë —Ö—Ä–∞–Ω–∏—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ.</p>
        <div class="stats">
          <div class="stat">üìö –£—Ä–æ–∫–∏ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º</div>
          <div class="stat">üéØ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–∏—Å–∫–∞</div>
          <div class="stat">üóìÔ∏è –≠–∫—Å–ø–æ—Ä—Ç –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—å</div>
          <div class="stat">üèÖ –ê—á–∏–≤–∫–∏</div>
        </div>
      </div>
      <div class="illus"><div class="ribbon" aria-hidden="true"></div></div>
    </div>
  </section>

  <nav class="tabs" id="tabs">
    <button class="tab active" data-target="edu">–û–±—É—á–µ–Ω–∏–µ</button>
    <button class="tab" data-target="screen">–°–∫—Ä–∏–Ω–∏–Ω–≥</button>
    <button class="tab" data-target="plan">–ü–ª–∞–Ω–µ—Ä</button>
    <button class="tab" data-target="myths">–ú–∏—Ñ—ã –∏ —Ñ–∞–∫—Ç—ã</button>
    <button class="tab" data-target="about">–û —Å–∞–π—Ç–µ</button>
  </nav>

  <!-- ===== –û–ë–£–ß–ï–ù–ò–ï ===== -->
  <section class="panel" id="edu">
    <div class="edu-wrap">
      <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
      <div class="card">
        <h3>–ö—Ä–∞—Ç–∫–∏–µ —É—Ä–æ–∫–∏</h3>
        <p class="muted">–û—Ç–º–µ—á–∞–π —á–µ–∫–±–æ–∫—Å—ã ‚Äî –ø—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</p>
        <div class="progress" aria-label="–ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è"><span id="eduBar"></span></div>
        <div id="lessons"></div>
        <div style="margin-top:10px;display:flex;gap:8px;flex-wrap:wrap">
          <button class="btn ghost" id="resetEdu">–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
          <button class="btn secondary" id="exportEdu">–≠–∫—Å–ø–æ—Ä—Ç (.json)</button>
          <input type="file" id="importEdu" accept="application/json" hidden>
          <button class="btn secondary" id="importEduBtn">–ò–º–ø–æ—Ä—Ç</button>
        </div>
        <div class="badge-chip" id="achv1" style="margin-top:10px">üèÖ –£—á–µ–Ω–∏—Ü–∞: 50% —É—Ä–æ–∫–æ–≤</div>
        <div class="badge-chip" id="achv2" style="margin-top:6px">üåü –≠–∫—Å–ø–µ—Ä—Ç: 100% —É—Ä–æ–∫–æ–≤</div>
      </div>

      <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
      <div class="card">
        <h3>–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —É—Ä–æ–∫–æ–≤</h3>
        <h4>–§–∞–∫—Ç–æ—Ä—ã —Ä–∏—Å–∫–∞</h4>
        <ul>
          <li>–í–æ–∑—Ä–∞—Å—Ç &gt; 40, —Å–µ–º–µ–π–Ω—ã–π –∞–Ω–∞–º–Ω–µ–∑ (1-—è –ª–∏–Ω–∏—è), BRCA1/2</li>
          <li>–ú–∞—Å—Å–∞ —Ç–µ–ª–∞, –Ω–∏–∑–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –¥–ª–∏—Ç–µ–ª—å–Ω–∞—è –≥–æ—Ä–º–æ–Ω–æ—Ç–µ—Ä–∞–ø–∏—è</li>
        </ul>
        <h4>–°–∏–º–ø—Ç–æ–º—ã</h4>
        <ul>
          <li>–£–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ/—É–∑–µ–ª–æ–∫, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã –∏ –∫–æ–∂–∏</li>
          <li>–í—Ç—è–∂–µ–Ω–∏–µ —Å–æ—Å–∫–∞/–∫–æ–∂–∏, –≤—ã–¥–µ–ª–µ–Ω–∏—è, ¬´–ª–∏–º–æ–Ω–Ω–∞—è –∫–æ—Ä–∫–∞¬ª</li>
        </ul>
        <h4>–°–∞–º–æ–æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</h4>
        <ol>
          <li>–û—Å–º–æ—Ç—Ä –≤ –∑–µ—Ä–∫–∞–ª–µ</li>
          <li>–ü–∞–ª—å–ø–∞—Ü–∏—è —Å—Ç–æ—è/–ª–µ–∂–∞ –ø–æ —Å—Ö–µ–º–µ</li>
          <li>–ï–∂–µ–º–µ—Å—è—á–Ω–æ –ø–æ—Å–ª–µ –º–µ–Ω—Å—Ç—Ä—É–∞—Ü–∏–∏</li>
        </ol>
        <h4>–°–∫—Ä–∏–Ω–∏–Ω–≥</h4>
        <p>–ú–∞–º–º–æ–≥—Ä–∞—Ñ–∏—è/–£–ó–ò ‚Äî –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É –∏ —Ä–∏—Å–∫—É, –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é –≤—Ä–∞—á–∞.</p>
      </div>
    </div>
  </section>

  <!-- ===== –°–ö–†–ò–ù–ò–ù–ì ===== -->
  <section class="panel" id="screen" hidden>
    <div class="edu-wrap">
      <div class="card">
        <h3>–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π —Å–∫—Ä–∏–Ω–∏–Ω–≥</h3>
        <p class="muted">–≠—Ç–æ –Ω–µ –¥–∏–∞–≥–Ω–æ–∑. –ü–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å, –Ω—É–∂–Ω–∞ –ª–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –≤—Ä–∞—á–∞.</p>
        <form id="quiz" autocomplete="off">
          <div class="row"><label>–í–æ–∑—Ä–∞—Å—Ç</label><input id="age" type="number" min="10" placeholder="–Ω–∞–ø—Ä., 25" required></div>
          <div class="row"><label>–°–µ–º–µ–π–Ω—ã–π –∞–Ω–∞–º–Ω–µ–∑ (1-—è –ª–∏–Ω–∏—è)</label>
            <select id="fam"><option value="0">–ù–µ—Ç</option><option value="1">–î–∞</option></select></div>
          <div class="row"><label>–°–∏–º–ø—Ç–æ–º—ã —Å–µ–π—á–∞—Å</label>
            <select id="sym"><option value="0">–ù–µ—Ç</option><option value="2">–î–∞</option></select></div>
          <div class="row"><label>–ì–æ—Ä–º–æ–Ω–æ—Ç–µ—Ä–∞–ø–∏—è &gt; 5 –ª–µ—Ç</label>
            <select id="horm"><option value="0">–ù–µ—Ç</option><option value="1">–î–∞</option></select></div>
          <div class="row"><label>–ò–ú–¢ &gt; 30 –∏–ª–∏ –Ω–∏–∑–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</label>
            <select id="bmi"><option value="0">–ù–µ—Ç</option><option value="1">–î–∞</option></select></div>
          <div style="display:flex;gap:8px;margin-top:10px">
            <button class="btn primary" type="submit">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
            <button class="btn ghost" type="button" id="saveQuiz">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button class="btn ghost" type="button" id="clearQuiz">–û—á–∏—Å—Ç–∏—Ç—å</button>
          </div>
        </form>
      </div>
      <div class="card">
        <h3>–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–∏—Å–∫–∞</h3>
        <div style="display:flex;gap:16px;align-items:center;flex-wrap:wrap">
          <div class="gauge" id="gauge"><div class="gauge-value" id="gaugeVal">0</div></div>
          <div>
            <div class="badge-chip" id="riskBadge">–£—Ä–æ–≤–µ–Ω—å: ‚Äî</div>
            <p id="riskText" class="muted">–ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É —Å–ª–µ–≤–∞ –∏ –Ω–∞–∂–º–∏ ¬´–†–∞—Å—Å—á–∏—Ç–∞—Ç—å¬ª.</p>
            <table>
              <thead><tr><th>–§–∞–∫—Ç–æ—Ä</th><th>–ë–∞–ª–ª—ã</th></tr></thead>
              <tbody id="scoreRows"></tbody>
              <tfoot><tr><th>–ò—Ç–æ–≥–æ</th><th id="totalScore">0</th></tr></tfoot>
            </table>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== –ü–õ–ê–ù–ï–† ===== -->
  <section class="panel" id="plan" hidden>
    <div class="edu-wrap">
      <div class="card">
        <h3>–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ —Å–∞–º–æ–æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏</h3>
        <div class="row"><label>–ù–∞–∑–≤–∞–Ω–∏–µ</label><input id="remTitle" placeholder="–°–∞–º–æ–æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –≥—Ä—É–¥–∏"></div>
        <div class="row"><label>–î–∞—Ç–∞</label><input id="remDate" type="date"></div>
        <div class="row"><label>–ó–∞–º–µ—Ç–∫–∞</label><input id="remNote" placeholder="5‚Äì10 –º–∏–Ω—É—Ç, –ø–æ—Å–ª–µ –¥—É—à–∞"></div>
        <div style="display:flex;gap:8px;margin-top:10px;flex-wrap:wrap">
          <button class="btn primary" id="addRem">–î–æ–±–∞–≤–∏—Ç—å</button>
          <button class="btn secondary" id="exportICS">–≠–∫—Å–ø–æ—Ä—Ç .ics</button>
          <button class="btn ghost" id="clearRems">–û—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫</button>
        </div>
        <div class="badge-chip" id="achv3" style="margin-top:10px">‚è∞ –ü–µ—Ä–≤–∞—è –ø—Ä–∏–≤—ã—á–∫–∞: —Å–æ–∑–¥–∞–Ω–æ 1 –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ</div>
      </div>
      <div class="card">
        <h3>–ú–æ–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è</h3>
        <table>
          <thead><tr><th>–î–∞—Ç–∞</th><th>–ó–∞–¥–∞—á–∞</th><th>–ó–∞–º–µ—Ç–∫–∞</th><th></th></tr></thead>
          <tbody id="remList"></tbody>
        </table>
        <p class="muted" style="font-size:12px">–î–ª—è –Ω–∞–¥—ë–∂–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–æ–±–∞–≤–ª—è–π —Å–æ–±—ã—Ç–∏—è –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—å —á–µ—Ä–µ–∑ .ics.</p>
      </div>
    </div>
  </section>

  <!-- ===== –ú–ò–§–´ ===== -->
  <section class="panel" id="myths" hidden>
    <h3>–ú–∏—Ñ—ã –∏ —Ñ–∞–∫—Ç—ã</h3>
    <div class="myths">
      <div class="flip"><div class="flip-inner">
        <div class="flip-face front">‚ùå ¬´–ï—Å–ª–∏ –Ω–µ –±–æ–ª–∏—Ç ‚Äî –≤—Å—ë –Ω–æ—Ä–º–∞–ª—å–Ω–æ¬ª</div>
        <div class="flip-face back">‚úî –ù–∞ —Ä–∞–Ω–Ω–∏—Ö —Å—Ç–∞–¥–∏—è—Ö —á–∞—â–µ –Ω–µ—Ç –±–æ–ª–∏. –ù—É–∂–Ω—ã –æ—Å–º–æ—Ç—Ä—ã –∏ —Å–∫—Ä–∏–Ω–∏–Ω–≥.</div>
      </div></div>
      <div class="flip"><div class="flip-inner">
        <div class="flip-face front">‚ùå ¬´–ú–∞–º–º–æ–≥—Ä–∞—Ñ–∏—è –æ–ø–∞—Å–Ω–∞ –∏–∑-–∑–∞ –∏–∑–ª—É—á–µ–Ω–∏—è¬ª</div>
        <div class="flip-face back">‚úî –î–æ–∑–∞ –º–∞–ª–∞; –ø–æ–ª—å–∑–∞ —Ä–∞–Ω–Ω–µ–≥–æ –≤—ã—è–≤–ª–µ–Ω–∏—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –≤—ã—à–µ —Ä–∏—Å–∫–∞.</div>
      </div></div>
      <div class="flip"><div class="flip-inner">
        <div class="flip-face front">‚ùå ¬´–ù–∞—Å–ª–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å —Ä–µ—à–∞–µ—Ç –≤—Å—ë¬ª</div>
        <div class="flip-face back">‚úî –í–∞–∂–Ω–∞, –Ω–æ —ç—Ç–æ –ª–∏—à—å –æ–¥–∏–Ω —Ñ–∞–∫—Ç–æ—Ä –∏–∑ –º–Ω–æ–≥–∏—Ö.</div>
      </div></div>
    </div>
  </section>

  <!-- ===== –û –°–ê–ô–¢–ï ===== -->
  <section class="panel" id="about" hidden>
    <h3>–û —Å–∞–π—Ç–µ</h3>
    <ul>
      <li>üíæ –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ (<code>localStorage</code>).</li>
      <li>üóÇÔ∏è –ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –∫–æ–º–º–∞–Ω–¥–æ–π —à–∫–æ–ª—å–Ω–∏—Ü - –ë–∞—Ä–º–∏–Ω–∞ –ê, –°–∞–±–∏–¥–æ–ª–ª–∞ –ê, –û—Ä—ã–Ω–±–∞—Å–∞—Ä–æ–≤–∞ –î, –ò–¥—Ä–∏—Å–æ–≤–∞ –ê.</li>
      <li>üóìÔ∏è –û–Ω–ª–∞–π–Ω —É—Ä–æ–∫–∏, –ø–ª–∞–Ω–µ—Ä, —Å–∫—Ä–∏–Ω–Ω–∏–Ω–≥.</li>
      <li>üéÄ –°–≤—è–∑—å —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º —Å–∞–π—Ç–∞ - @anastassiyabr - tg¬ª.</li>
    </ul>
    <p class="muted" style="font-size:12px">–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç. –ù–µ –∑–∞–º–µ–Ω—è–µ—Ç –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é –≤—Ä–∞—á–∞.</p>
  </section>

  <p class="muted" style="margin:18px 0 6px;font-size:12px">¬© 2025 Qyzgylt Taspa</p>
</div>

<script>
/* ===== –£–¢–ò–õ–ò–¢–´ ===== */
const $=(s,r=document)=>r.querySelector(s);
const $all=(s,r=document)=>Array.from(r.querySelectorAll(s));
const store={get(k,d){try{const v=localStorage.getItem(k);return v?JSON.parse(v):d}catch{return d}},set(k,v){localStorage.setItem(k,JSON.stringify(v))}};
function download(name,content,type='application/octet-stream'){const a=document.createElement('a');a.href=URL.createObjectURL(new Blob([content],{type}));a.download=name;a.click();URL.revokeObjectURL(a.href)}
function toICSItem({title,note,date}){const dt=new Date(date);if(isNaN(dt))return'';const p=n=>String(n).padStart(2,'0');const y=dt.getUTCFullYear(),m=p(dt.getUTCMonth()+1),d=p(dt.getDate());const start=`${y}${m}${d}T090000Z`,end=`${y}${m}${d}T093000Z`;return`BEGIN:VEVENT
UID:${crypto.randomUUID()}
DTSTAMP:${y}${m}${d}T000000Z
DTSTART:${start}
DTEND:${end}
SUMMARY:${(title||'–°–∞–º–æ–æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ').replace(/\\n/g,' ')}
DESCRIPTION:${(note||'–ï–∂–µ–º–µ—Å—è—á–Ω–æ–µ —Å–∞–º–æ–æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ').replace(/\\n/g,' ')}
END:VEVENT`;}

/* ===== –¢–ê–ë–´ ===== */
$all('.tab').forEach(b=>b.addEventListener('click',()=>{ $all('.tab').forEach(x=>x.classList.remove('active')); b.classList.add('active'); const id=b.dataset.target; $all('section.panel').forEach(p=>p.hidden=p.id!==id);}))

/* ===== –£–†–û–ö–ò ===== */
const LESSONS=[
  {id:'risk',title:'–§–∞–∫—Ç–æ—Ä—ã —Ä–∏—Å–∫–∞',bullets:['–í–æ–∑—Ä–∞—Å—Ç, —Å–µ–º–µ–π–Ω—ã–π –∞–Ω–∞–º–Ω–µ–∑, –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏','–ö–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Å–∞/–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å–Ω–∏–∂–∞–µ—Ç —Ä–∏—Å–∫']},
  {id:'sym', title:'–°–∏–º–ø—Ç–æ–º—ã',bullets:['–£–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã/–∫–æ–∂–∏','–í—ã–¥–µ–ª–µ–Ω–∏—è, –≤—Ç—è–∂–µ–Ω–∏–µ, ¬´–ª–∏–º–æ–Ω–Ω–∞—è –∫–æ—Ä–∫–∞¬ª']},
  {id:'sbe', title:'–°–∞–º–æ–æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ',bullets:['–û—Å–º–æ—Ç—Ä –≤ –∑–µ—Ä–∫–∞–ª–µ','–ü–∞–ª—å–ø–∞—Ü–∏—è –ø–æ —Å—Ö–µ–º–µ –µ–∂–µ–º–µ—Å—è—á–Ω–æ']},
  {id:'scr', title:'–°–∫—Ä–∏–Ω–∏–Ω–≥ —É –≤—Ä–∞—á–∞',bullets:['–ü–æ –≤–æ–∑—Ä–∞—Å—Ç—É –∏ —Ä–∏—Å–∫—É','–ú–∞–º–º–æ–≥—Ä–∞—Ñ–∏—è/–£–ó–ò –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é –≤—Ä–∞—á–∞']}
];
const lessonState=store.get('lessons',{});
function renderLessons(){
  const box=$('#lessons'); box.innerHTML='';
  let total=0,done=0;
  for(const L of LESSONS){
    const st=lessonState[L.id]||Array(L.bullets.length).fill(false);
    total+=st.length; done+=st.filter(Boolean).length;
    const card=document.createElement('div'); card.className='card';
    card.innerHTML=`<div style="display:flex;justify-content:space-between;align-items:center;gap:8px;flex-wrap:wrap">
      <strong>${L.title}</strong><span class="badge-chip">${st.filter(Boolean).length}/${st.length}</span>
    </div>
    <div style="display:grid;gap:8px;margin-top:8px">${L.bullets.map((t,i)=>`
      <div class="li">
        <input type="checkbox" data-id="${L.id}" data-idx="${i}" ${st[i]?'checked':''}/>
        <span>${t}</span>
      </div>`).join('')}</div>`;
    box.appendChild(card);
  }
  const pct= total? Math.round(done/total*100):0;
  $('#eduBar').style.width=pct+'%';
  $('#achv1').style.background = pct>=50 ? 'linear-gradient(135deg,#fff8,#eafff0)' : '';
  $('#achv2').style.background = pct>=100 ? 'linear-gradient(135deg,#fff8,#fff0f6)' : '';
  if(pct===100) confettiStart(1200);
}
renderLessons();

$('#lessons').addEventListener('change',e=>{
  if(e.target.type==='checkbox'){
    const id=e.target.dataset.id, idx=+e.target.dataset.idx;
    const base=lessonState[id]||Array(LESSONS.find(x=>x.id===id).bullets.length).fill(false);
    base[idx]=e.target.checked; lessonState[id]=base; store.set('lessons',lessonState); renderLessons();
  }
});
$('#resetEdu').addEventListener('click',()=>{for(const k of Object.keys(lessonState)) delete lessonState[k]; store.set('lessons',lessonState); renderLessons();});
$('#exportEdu').addEventListener('click',()=>download('progress.json',JSON.stringify(lessonState,null,2),'application/json'));
$('#importEduBtn').addEventListener('click',()=>$('#importEdu').click());
$('#importEdu').addEventListener('change',async e=>{const f=e.target.files[0];if(!f)return;const txt=await f.text();try{const obj=JSON.parse(txt);Object.assign(lessonState,obj);store.set('lessons',lessonState);renderLessons();}catch{alert('–ù–µ —É–¥–∞–ª–æ—Å—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª')}});

/* ===== –°–ö–†–ò–ù–ò–ù–ì ===== */
function calcRisk(){
  const age=parseInt($('#age').value||'0',10),
        fam=parseInt($('#fam').value,10),
        sym=parseInt($('#sym').value,10),
        horm=parseInt($('#horm').value,10),
        bmi=parseInt($('#bmi').value,10);
  const rows=[['–í–æ–∑—Ä–∞—Å—Ç',isNaN(age)?0:(age>=40?1:0)],['–°–µ–º–µ–π–Ω—ã–π –∞–Ω–∞–º–Ω–µ–∑',fam],['–°–∏–º–ø—Ç–æ–º—ã —Å–µ–π—á–∞—Å',sym],['–î–ª–∏—Ç–µ–ª—å–Ω–∞—è –≥–æ—Ä–º–æ–Ω–æ—Ç–µ—Ä–∞–ø–∏—è',horm],['–ò–ú–¢/–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å',bmi]];
  const score=rows.reduce((s,[,v])=>s+v,0);
  let level='–ù–∏–∑–∫–∏–π', advice='–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π –ó–û–ñ –∏ –æ–±—É—á–∞–π—Å—è. –°–∫—Ä–∏–Ω–∏–Ω–≥ ‚Äî –ø–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≤—Ä–∞—á–∞.';
  if(score>=2){level='–£–º–µ—Ä–µ–Ω–Ω—ã–π';advice='–ü—Ä–æ–∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä—É–π—Å—è —Å –≤—Ä–∞—á–æ–º –æ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–º –ø–ª–∞–Ω–µ —Å–∫—Ä–∏–Ω–∏–Ω–≥–∞.';}
  if(score>=3||sym>=2){level='–ü–æ–≤—ã—à–µ–Ω–Ω—ã–π';advice='–û–±—Ä–∞—Ç–∏—Å—å –∫ –≤—Ä–∞—á—É –¥–ª—è –æ—á–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤.';}
  return {rows,score,level,advice};
}
function setGauge(val){const deg=Math.min(360,Math.max(0,Math.round(val*60)));$('#gauge').style.setProperty('--deg',deg+'deg');$('#gaugeVal').textContent=String(val);}
$('#quiz').addEventListener('submit',e=>{
  e.preventDefault();
  const {rows,score,level,advice}=calcRisk();
  $('#scoreRows').innerHTML=rows.map(r=>`<tr><td>${r[0]}</td><td>${r[1]}</td></tr>`).join('');
  $('#totalScore').textContent=String(score);
  $('#riskBadge').textContent='–£—Ä–æ–≤–µ–Ω—å: '+level;
  $('#riskText').textContent=advice;
  setGauge(score);
});
$('#saveQuiz').addEventListener('click',()=>{store.set('lastQuiz',{date:new Date().toISOString(),...calcRisk()});alert('–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ.')});
$('#clearQuiz').addEventListener('click',()=>{$('#quiz').reset();$('#scoreRows').innerHTML='';$('#totalScore').textContent='0';$('#riskBadge').textContent='–£—Ä–æ–≤–µ–Ω—å: ‚Äî';$('#riskText').textContent='–ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É —Å–ª–µ–≤–∞ –∏ –Ω–∞–∂–º–∏ ¬´–†–∞—Å—Å—á–∏—Ç–∞—Ç—å¬ª.';setGauge(0);});

/* ===== –ü–õ–ê–ù–ï–† ===== */
const rems=store.get('rems',[]);
function renderRems(){const body=$('#remList');body.innerHTML='';if(!rems.length){body.innerHTML=`<tr><td colspan="4" class="muted">–ü–æ–∫–∞ –ø—É—Å—Ç–æ</td></tr>`;return;}
  rems.sort((a,b)=>a.date.localeCompare(b.date));
  for(const r of rems){const tr=document.createElement('tr');tr.innerHTML=`<td>${r.date}</td><td>${r.title}</td><td>${r.note||''}</td><td><button class="btn ghost" data-id="${r.id}">–£–¥–∞–ª–∏—Ç—å</button></td>`;body.appendChild(tr);}
}
renderRems();
$('#addRem').addEventListener('click',()=>{const title=$('#remTitle').value.trim()||'–°–∞–º–æ–æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –≥—Ä—É–¥–∏';const date=$('#remDate').value;if(!date){alert('–í—ã–±–µ—Ä–∏ –¥–∞—Ç—É');return;}const note=$('#remNote').value.trim();rems.push({id:crypto.randomUUID(),title,date,note});store.set('rems',rems);renderRems();$('#remTitle').value='';$('#remDate').value='';$('#remNote').value='';if(rems.length===1){$('#achv3').style.background='linear-gradient(135deg,#fff8,#eafff0)';confettiStart(900);}});
$('#remList').addEventListener('click',e=>{const b=e.target.closest('button[data-id]');if(!b)return;const i=rems.findIndex(x=>x.id===b.dataset.id);if(i>-1){rems.splice(i,1);store.set('rems',rems);renderRems();}});
$('#clearRems').addEventListener('click',()=>{rems.splice(0,rems.length);store.set('rems',rems);renderRems();});
$('#exportICS').addEventListener('click',()=>{if(!rems.length){alert('–î–æ–±–∞–≤—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ.');return;}const items=rems.map(r=>toICSItem(r)).join('\n');const ics=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Qyzgylt Taspa//RU
${items}
END:VCALENDAR`.replace(/\n/g,"\r\n");download('reminders.ics',ics,'text/calendar');});

/* ===== –ö–û–ù–§–ï–¢–¢–ò ===== */
const cnv=document.getElementById('confetti'),ctx=cnv.getContext('2d');let confetti=[],rafId=null;
function resize(){cnv.width=innerWidth;cnv.height=innerHeight}addEventListener('resize',resize);resize();
function confettiStart(ms=1200){const N=160;for(let i=0;i<N;i++){confetti.push({x:Math.random()*cnv.width,y:-20-Math.random()*cnv.height*0.3,r:4+Math.random()*6,s:1+Math.random()*2,a:Math.random()*Math.PI*2,hue:330+Math.random()*30});}
  if(!rafId)rafId=requestAnimationFrame(tick);setTimeout(()=>confetti=[],ms);}
function tick(){ctx.clearRect(0,0,cnv.width,cnv.height);confetti.forEach(p=>{p.y+=p.s;p.x+=Math.sin(p.a+=0.02)*0.8;ctx.fillStyle=`hsl(${p.hue},90%,${60+Math.sin(p.a)*10}%)`;ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill();});rafId=confetti.length?requestAnimationFrame(tick):(rafId=null);}

/* ===== –ò–ù–ò–¢ ===== */
(function(){const t=new Date(),y=t.getFullYear(),m=String(t.getMonth()+1).padStart(2,'0'),d=String(t.getDate()).padStart(2,'0');$('#remDate').min=`${y}-${m}-${d}`;})();
setGauge(0);
</script>
</body>
</html>
